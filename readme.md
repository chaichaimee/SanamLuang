# SanamLuang - ตัวแก้ไขข้อความไทยอัตโนมัติสำหรับ NVDA

**ผู้พัฒนา:** chai chaimee  
**GitHub:** https://github.com/chaichaimee/SanamLuang

## ภาพรวม

**SanamLuang** เป็น add-on สำหรับโปรแกรมอ่านหน้าจอ NVDA ที่ช่วยแก้ไขข้อผิดพลาดของข้อความภาษาไทยที่เกิดขึ้นบ่อย ๆ โดยอัตโนมัติ เช่น  
- การพิมพ์เร็วแล้วตัวอักษรซ้อนกันผิดตำแหน่ง  
- ระบบ auto-correct หรือการสแกน OCR ทำให้ตัวสะกดเพี้ยน  
- วรรณยุกต์หรือสระลอยไปอยู่ตำแหน่งที่ไม่ถูกต้อง  

แอดออนนี้จะแก้ไขข้อความให้ถูกต้องก่อนที่ NVDA จะอ่านออกเสียง ทำให้การอ่านหน้าจอเป็นธรรมชาติและถูกต้องมากยิ่งขึ้น

## ทำไมต้องใช้ SanamLuang?

ตัวอย่างข้อผิดพลาดที่พบบ่อยในชีวิตประจำวัน:

| พิมพ์ผิด          | ถูกต้อง       | ตัวอย่างก่อนแก้             | หลังแก้                  |
|-------------------|--------------|-----------------------------|--------------------------|
| ํา                | ำ           | เขํา                         | เขา                      |
| ํ่า / ํ้าน้ำ      | ่ำ / น้ำ    | นํ่า, ํ้าน้ำ                | น้ำ                      |
| เเ                | แ           | นักเเเสดง                    | นักแสดง                  |
| ำ่ / ำ้           | ่ำ / ้ำ     | นำ่, นำ้                     | น้ำ                      |

ข้อผิดพลาดเหล่านี้เกิดขึ้นบ่อยมากโดยเฉพาะเมื่อใช้คีย์บอร์ดไทยหรือพิมพ์เร็ว SanamLuang จะช่วยแก้ให้โดยอัตโนมัติ

## คุณสมบัติหลัก

| คำสั่ง                        | การใช้งาน                                                                 |
|-------------------------------|--------------------------------------------------------------------------|
| **NVDA+Shift+F4 (แตะสองครั้งเร็ว)** | เปิด/ปิด การแก้ไขเสียงอัตโนมัติ (Toggle On/Off)                           |
| **NVDA+Shift+F4 (แตะครั้งเดียว + มีข้อความเลือก)** | แทนที่ข้อความที่เลือกด้วยข้อความที่แก้ไขแล้ว (Replace selected text)      |
| **NVDA+Shift+F4 (แตะครั้งเดียว + ไม่มีข้อความเลือก)** | เปิดหน้าต่างตั้งค่า (Settings)                                           |

### รายการแก้ไขเริ่มต้น (Default Corrections)

| ผิด               | ถูก          | ตัวอย่าง                              |
|-------------------|--------------|--------------------------------------|
| ํา                | ำ           | ขํา  ขำ                           |
| ํ่า               | ่ำ          | นํ่า  น้ำ                           |
| ํ้า               | ้ำ          | นํ้า  น้ำ                           |
| ำ่                | ่ำ          | นำ่  น้ำ                            |
| ำ้                | ้ำ          | นำ้  น้ำ                            |
| เเ                | แ           | นักเเเสดง  นักแสดง                  |
| และอื่น ๆ อีกมากมาย… |              |                                      |

## วิธีใช้งาน

### ใช้งานพื้นฐาน
1. **เปิด/ปิดการแก้ไขเสียงอัตโนมัติ**  
    แตะ `NVDA+Shift+F4` สองครั้งเร็ว ๆ
   - เมื่อเปิด (ON): ข้อความที่อ่านจะถูกแก้ไขอัตโนมัติ  
   - เมื่อปิด (OFF): อ่านตามข้อความต้นฉบับเป๊ะ ๆ

2. **แก้ไขข้อความที่เลือก**  
    เลือกข้อความ  แตะ `NVDA+Shift+F4` ครั้งเดียว  
    ข้อความในเอกสารจะถูกแทนที่ด้วยเวอร์ชันที่แก้ไขแล้ว (เปลี่ยนถาวร)

3. **เปิดหน้าต่างตั้งค่า**  
    ไม่ต้องเลือกข้อความ  แตะ `NVDA+Shift+F4` ครั้งเดียว

### เพิ่ม/แก้ไขกฎการแก้ไขเอง
1. เปิดหน้าต่างตั้งค่า  
2. กดปุ่ม **เพิ่ม**  
3. ใส่  
   - **Pattern**  ข้อความที่ผิดที่ต้องการหา  
   - **Replacement**  ข้อความที่ถูกต้อง (เว้นว่าง = ลบข้อความนั้นออก)  
   - **ใช้ Regex**  ติ๊กถ้าต้องการใช้ regular expression (สำหรับผู้ใช้ขั้นสูง)
4. กด OK

คุณยังสามารถ **แก้ไข**, **ลบ**, หรือ **กด Reset to defaults** เพื่อคืนค่าพื้นฐานได้ทุกเมื่อ

## ข้อสำคัญที่ต้องรู้

- **การแก้ไขเสียง vs การแก้ไขข้อความจริง**  
  เมื่อเปิด SanamLuang  แก้ไขเฉพาะเสียงที่ NVDA อ่านออกมา (ข้อความในไฟล์ยังคงเดิม)  
  เมื่อใช้ฟังก์ชันแทนที่ข้อความ  ข้อความในเอกสารจะถูกเปลี่ยนจริง (ถาวร)

- การตั้งค่าทั้งหมดจะถูกบันทึกอัตโนมัติ และคงอยู่แม้ปิด-เปิด NVDA ใหม่

## สิทธิ์การใช้งาน

GNU General Public License version 2 (GPLv2)
